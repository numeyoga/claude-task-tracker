<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Time Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- En-t√™te -->
    <header class="header">
        <div class="header__content">
            <div class="header__text">
                <h1 class="header__title">Claude Time Tracker</h1>
                <p class="header__subtitle">Suivi de votre temps de pr√©sence</p>
            </div>
            <button id="manage-entries-btn" class="header__manage-btn" title="G√©rer toutes les entr√©es">
                üìã G√©rer les entr√©es
            </button>
        </div>
    </header>

    <!-- Barre de pr√©sence journali√®re compacte avec pointages int√©gr√©s -->
    <section class="daily-presence-bar">
        <div class="daily-presence-bar__container">
            <!-- Indicateurs de pr√©sence -->
            <div class="daily-presence-bar__left">
                <div id="day-status" class="daily-presence-bar__status daily-presence-bar__status--not-started">
                    Pas encore commenc√©
                </div>
                <div class="daily-presence-bar__divider"></div>
                <div class="daily-presence-bar__time">
                    <span class="daily-presence-bar__label">Temps de pr√©sence</span>
                    <span id="presence-time" class="daily-presence-bar__value">0h 00m</span>
                </div>
                <div class="daily-presence-bar__progress">
                    <span id="presence-percentage" class="daily-presence-bar__percentage">0%</span>
                    <span class="daily-presence-bar__target">/ 8h</span>
                </div>
                <div class="daily-presence-bar__remaining" id="remaining-time">
                    Reste: 8h 00m
                </div>
            </div>

            <!-- Boutons de pointage int√©gr√©s -->
            <div class="daily-presence-bar__actions">
                <button id="clock-in-btn" class="presence-btn presence-btn--active" disabled>
                    <span class="presence-btn__icon">üü¢</span>
                    <span class="presence-btn__text">Arriv√©e</span>
                </button>
                <button id="lunch-start-btn" class="presence-btn" disabled>
                    <span class="presence-btn__icon">üçΩÔ∏è</span>
                    <span class="presence-btn__text">Pause</span>
                </button>
                <button id="lunch-end-btn" class="presence-btn" disabled>
                    <span class="presence-btn__icon">‚úÖ</span>
                    <span class="presence-btn__text">Reprise</span>
                </button>
                <button id="clock-out-btn" class="presence-btn" disabled>
                    <span class="presence-btn__icon">üî¥</span>
                    <span class="presence-btn__text">D√©part</span>
                </button>
            </div>
        </div>

        <!-- Historique des pointages (pliable) -->
        <div class="daily-presence-bar__history">
            <button id="toggle-entries-btn" class="history-toggle">
                <span id="toggle-entries-icon">‚ñº</span>
                <span>Pointages d'aujourd'hui</span>
            </button>
            <ul id="entries-list" class="history-list history-list--hidden">
                <li class="history-list__empty">Aucun pointage pour aujourd'hui</li>
            </ul>
        </div>
    </section>

    <!-- Contenu principal -->
    <main class="main">
        <!-- Zone de gestion de projets (toute la largeur) -->
        <div class="main__projects">
            <!-- Affichage du chronom√®tre - Version compacte horizontale -->
            <section class="timer-display-compact timer-display-compact--stopped" id="timer-display">
                <div class="timer-compact__status">
                    <span class="timer-compact__label">Chronom√®tre</span>
                    <span id="timer-project-name" class="timer-compact__project">Aucun projet</span>
                </div>
                <div class="timer-compact__time">
                    <span id="timer-duration" class="timer-compact__duration">0h 00m</span>
                </div>
                <button id="stop-timer-btn" class="timer-compact__stop-btn" disabled>
                    ‚èπÔ∏è Arr√™ter
                </button>
            </section>

            <!-- Gestion des projets -->
            <section class="projects-section">
                <div class="projects-section__header">
                    <h2 class="projects-section__title">Projets</h2>
                </div>

                <!-- Boutons d'action -->
                <div class="projects-section__actions">
                    <button id="add-time-btn" class="projects-section__btn projects-section__btn--primary">
                        ‚è±Ô∏è Ajouter du temps
                    </button>
                    <button id="add-project-btn" class="projects-section__btn projects-section__btn--secondary">
                        ‚ûï Ajouter un projet
                    </button>
                </div>

                <!-- Tableau des projets -->
                <table class="projects-table">
                    <tbody id="projects-list">
                        <tr class="projects-table__empty">
                            <td colspan="2">Aucun projet</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Statistiques des projets -->
            <section class="project-stats-section">
                <h2 class="project-stats-section__title">Temps pass√© par projet aujourd'hui</h2>
                <div id="project-stats" class="project-stats">
                    <p class="project-stats__empty">Aucune session de travail pour aujourd'hui</p>
                </div>
            </section>
        </div>
    </main>

    <!-- Section Rapports et Statistiques (Phase 3) -->
    <section class="reports-section">
        <div class="reports-section__container">
            <!-- En-t√™te avec s√©lection de p√©riode -->
            <div class="reports-section__header">
                <div class="reports-section__title-row">
                    <h2 class="reports-section__title">Rapports et Statistiques</h2>
                    <button id="manage-period-entries-btn" class="reports-section__manage-btn" title="G√©rer les entr√©es de cette p√©riode">
                        üìã G√©rer les entr√©es de la p√©riode
                    </button>
                </div>

                <div class="reports-section__controls">
                    <!-- S√©lecteur de type de p√©riode -->
                    <div class="period-selector">
                        <button
                            id="period-week-btn"
                            class="period-selector__btn period-selector__btn--active"
                            data-period="week"
                        >
                            Semaine
                        </button>
                        <button
                            id="period-month-btn"
                            class="period-selector__btn"
                            data-period="month"
                        >
                            Mois
                        </button>
                    </div>

                    <!-- Navigation de p√©riode -->
                    <div class="period-nav">
                        <button id="period-prev-btn" class="period-nav__btn" title="P√©riode pr√©c√©dente">
                            ‚óÄ
                        </button>
                        <span id="period-label" class="period-nav__label">
                            13-19 Nov 2025
                        </span>
                        <button id="period-next-btn" class="period-nav__btn" title="P√©riode suivante">
                            ‚ñ∂
                        </button>
                    </div>
                </div>
            </div>

            <!-- Statistiques globales -->
            <div class="report-summary">
                <div class="report-summary__card">
                    <div class="report-summary__label">Temps de pr√©sence total</div>
                    <div id="report-total-presence" class="report-summary__value">0h 00m</div>
                </div>
                <div class="report-summary__card">
                    <div class="report-summary__label">Temps projets total</div>
                    <div id="report-total-project" class="report-summary__value">0h 00m</div>
                </div>
                <div class="report-summary__card">
                    <div class="report-summary__label">Jours travaill√©s</div>
                    <div id="report-worked-days" class="report-summary__value">0</div>
                </div>
            </div>

            <!-- Tableau hebdomadaire -->
            <div class="weekly-table-container">
                <table id="weekly-table" class="weekly-table">
                    <!-- Le tableau sera g√©n√©r√© dynamiquement -->
                </table>
            </div>
        </div>
    </section>

    <!-- Section Gestion des Entr√©es -->
    <section class="entries-management-section" id="entries-management-section">
        <div class="entries-management-section__container">
            <!-- En-t√™te avec bouton de fermeture -->
            <div class="entries-management-section__header">
                <h2 class="entries-management-section__title">Gestion des Entr√©es</h2>
                <button id="close-entries-management-btn" class="entries-management-section__close-btn" title="Fermer">
                    ‚úï
                </button>
            </div>

            <!-- Message d'information -->
            <div class="entries-management-section__info">
                <p>Toutes vos entr√©es de pointage dans l'ordre ant√©chronologique (du plus r√©cent au plus ancien).</p>
            </div>

            <!-- Liste des entr√©es -->
            <div id="all-entries-list" class="all-entries-list">
                <div class="all-entries-list__empty">Chargement...</div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p class="footer__text">Claude Time Tracker v2.0.0</p>
    </footer>

    <!-- Modal pour les d√©tails des sessions -->
    <div id="session-details-modal" class="modal">
        <div class="modal__overlay"></div>
        <div class="modal__content">
            <div class="modal__header">
                <h3 id="modal-project-name" class="modal__title">D√©tails du projet</h3>
                <button id="close-modal-btn" class="modal__close" aria-label="Fermer">&times;</button>
            </div>
            <div class="modal__body">
                <div id="sessions-list" class="sessions-list">
                    <!-- Les sessions seront ajout√©es ici dynamiquement -->
                </div>
            </div>
        </div>
    </div>

    <!-- Script principal (ES6 module) -->
    <script type="module" src="app.js"></script>
</body>
</html>
