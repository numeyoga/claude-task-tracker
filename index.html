<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Time Tracker</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- En-t√™te -->
    <header class="header">
        <h1 class="header__title">Claude Time Tracker</h1>
        <p class="header__subtitle">Suivi de votre temps de pr√©sence</p>
    </header>

    <!-- Barre de pr√©sence journali√®re compacte -->
    <section class="daily-presence-bar">
        <div class="daily-presence-bar__container">
            <div id="day-status" class="daily-presence-bar__status daily-presence-bar__status--not-started">
                Pas encore commenc√©
            </div>
            <div class="daily-presence-bar__divider"></div>
            <div class="daily-presence-bar__time">
                <span class="daily-presence-bar__label">Temps de pr√©sence</span>
                <span id="presence-time" class="daily-presence-bar__value">0h 00m</span>
            </div>
            <div class="daily-presence-bar__progress">
                <span id="presence-percentage" class="daily-presence-bar__percentage">0%</span>
                <span class="daily-presence-bar__target">/ 8h</span>
            </div>
            <div class="daily-presence-bar__remaining" id="remaining-time">
                Reste: 8h 00m
            </div>
        </div>
    </section>

    <!-- Contenu principal -->
    <main class="main">
        <!-- Colonne gauche - Suivi de pr√©sence -->
        <div class="main__left">

            <!-- Boutons de pointage -->
            <section class="clock-in">
                <h2 class="clock-in__title">Pointages</h2>
                <div class="clock-in__buttons">
                    <button
                        id="clock-in-btn"
                        class="clock-in__button clock-in__button--active"
                        disabled
                    >
                        <span class="clock-in__button-icon">üü¢</span>
                        <span class="clock-in__button-text">Arriv√©e</span>
                    </button>

                    <button
                        id="lunch-start-btn"
                        class="clock-in__button"
                        disabled
                    >
                        <span class="clock-in__button-icon">üçΩÔ∏è</span>
                        <span class="clock-in__button-text">D√©but pause</span>
                    </button>

                    <button
                        id="lunch-end-btn"
                        class="clock-in__button"
                        disabled
                    >
                        <span class="clock-in__button-icon">‚úÖ</span>
                        <span class="clock-in__button-text">Fin pause</span>
                    </button>

                    <button
                        id="clock-out-btn"
                        class="clock-in__button"
                        disabled
                    >
                        <span class="clock-in__button-icon">üî¥</span>
                        <span class="clock-in__button-text">D√©part</span>
                    </button>
                </div>
            </section>

            <!-- Historique des pointages du jour -->
            <section class="entries-section">
                <h2 class="entries-section__title">Pointages d'aujourd'hui</h2>
                <ul id="entries-list" class="entries-list">
                    <li class="entries-list__empty">Aucun pointage pour aujourd'hui</li>
                </ul>
            </section>
        </div>

        <!-- Colonne droite - Gestion de projets -->
        <div class="main__right">
            <!-- Affichage du chronom√®tre -->
            <section class="timer-display timer-display--stopped" id="timer-display">
                <div class="timer-display__header">
                    <h2 class="timer-display__title">Chronom√®tre</h2>
                    <button id="stop-timer-btn" class="timer-display__stop-btn">
                        ‚èπÔ∏è Arr√™ter
                    </button>
                </div>
                <div class="timer-display__content">
                    <div id="timer-project-name" class="timer-display__project">
                        Aucun projet en cours
                    </div>
                    <div id="timer-duration" class="timer-display__duration">
                        0h 00m
                    </div>
                </div>
            </section>

            <!-- Gestion des projets -->
            <section class="projects-section">
                <h2 class="projects-section__title">Projets</h2>

                <!-- Formulaire d'ajout de projet -->
                <div class="projects-section__add">
                    <input
                        type="text"
                        id="new-project-name"
                        class="projects-section__input"
                        placeholder="Nom du nouveau projet"
                        maxlength="100"
                    />
                    <button id="add-project-btn" class="projects-section__btn">
                        Ajouter
                    </button>
                </div>

                <!-- Tableau des projets -->
                <table class="projects-table">
                    <tbody id="projects-list">
                        <tr class="projects-table__empty">
                            <td colspan="2">Aucun projet</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Statistiques des projets -->
            <section class="project-stats-section">
                <h2 class="project-stats-section__title">Temps pass√© par projet aujourd'hui</h2>
                <div id="project-stats" class="project-stats">
                    <p class="project-stats__empty">Aucune session de travail pour aujourd'hui</p>
                </div>
            </section>
        </div>
    </main>

    <!-- Section Rapports et Statistiques (Phase 3) -->
    <section class="reports-section">
        <div class="reports-section__container">
            <!-- En-t√™te avec s√©lection de p√©riode -->
            <div class="reports-section__header">
                <h2 class="reports-section__title">Rapports et Statistiques</h2>

                <div class="reports-section__controls">
                    <!-- S√©lecteur de type de p√©riode -->
                    <div class="period-selector">
                        <button
                            id="period-week-btn"
                            class="period-selector__btn period-selector__btn--active"
                            data-period="week"
                        >
                            Semaine
                        </button>
                        <button
                            id="period-month-btn"
                            class="period-selector__btn"
                            data-period="month"
                        >
                            Mois
                        </button>
                    </div>

                    <!-- Navigation de p√©riode -->
                    <div class="period-nav">
                        <button id="period-prev-btn" class="period-nav__btn" title="P√©riode pr√©c√©dente">
                            ‚óÄ
                        </button>
                        <span id="period-label" class="period-nav__label">
                            13-19 Nov 2025
                        </span>
                        <button id="period-next-btn" class="period-nav__btn" title="P√©riode suivante">
                            ‚ñ∂
                        </button>
                    </div>
                </div>
            </div>

            <!-- Statistiques globales -->
            <div class="report-summary">
                <div class="report-summary__card">
                    <div class="report-summary__label">Temps de pr√©sence total</div>
                    <div id="report-total-presence" class="report-summary__value">0h 00m</div>
                </div>
                <div class="report-summary__card">
                    <div class="report-summary__label">Temps projets total</div>
                    <div id="report-total-project" class="report-summary__value">0h 00m</div>
                </div>
                <div class="report-summary__card">
                    <div class="report-summary__label">Jours travaill√©s</div>
                    <div id="report-worked-days" class="report-summary__value">0</div>
                </div>
                <div class="report-summary__card report-summary__card--warning">
                    <div class="report-summary__label">Jours incomplets</div>
                    <div id="report-incomplete-days" class="report-summary__value">0</div>
                </div>
            </div>

            <!-- Deux colonnes: Projets et Jours incomplets -->
            <div class="report-content">
                <!-- Colonne gauche: Temps par projet -->
                <div class="report-content__left">
                    <div class="report-projects">
                        <h3 class="report-projects__title">Temps par projet</h3>
                        <div id="report-projects-list" class="report-projects__list">
                            <p class="report-projects__empty">Aucune donn√©e pour cette p√©riode</p>
                        </div>
                    </div>
                </div>

                <!-- Colonne droite: Jours incomplets et export -->
                <div class="report-content__right">
                    <!-- Jours incomplets -->
                    <div class="incomplete-days">
                        <h3 class="incomplete-days__title">Jours incomplets (&lt;8h)</h3>
                        <div id="incomplete-days-list" class="incomplete-days__list">
                            <p class="incomplete-days__empty">Aucun jour incomplet</p>
                        </div>
                    </div>

                    <!-- Export -->
                    <div class="report-export">
                        <h3 class="report-export__title">Exporter les donn√©es</h3>
                        <div class="report-export__buttons">
                            <button id="export-report-csv-btn" class="report-export__btn">
                                üìä Rapport CSV
                            </button>
                            <button id="export-report-json-btn" class="report-export__btn">
                                üìÑ Rapport JSON
                            </button>
                            <button id="export-all-data-btn" class="report-export__btn">
                                üíæ Tout exporter
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Graphique quotidien -->
            <div class="daily-chart">
                <h3 class="daily-chart__title">Temps de pr√©sence quotidien</h3>
                <div id="daily-chart-container" class="daily-chart__container">
                    <p class="daily-chart__empty">Aucune donn√©e √† afficher</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <p class="footer__text">Claude Time Tracker v2.0.0</p>
    </footer>

    <!-- Script principal (ES6 module) -->
    <script type="module" src="app.js"></script>
</body>
</html>
